
<div class="container">
  <div class="m-5 justiky-content-center text-center">
    <h1 style="font-family: 'Koulen';">Available Trips</h1>
  </div>
  <h1><%= link_to 'New Trip', new_trip_path, class:"btn btn-primary" %></h1>
  <div class="row" style= "margin: 1em">
    <% @trips.each do |trip| %>
      <% if trip.number_of_passengers - trip.passengers_count > 0 %>
        <div class="col-12 col-lg-3 card">
          <div class="card-body">
            <h3 class="card-title">From: <%= trip.starting_point %></h3>
            <h3 class="card-title">To: <%= trip.end_point %></h3>
            <ul>
              <li>NÂºPassengers: <%= trip.number_of_passengers %></li>
              <li>Start time: <%= trip.departure_time %></li>
              <li>Available seats: <%= trip.number_of_passengers - trip.passengers_count %></li>
            </ul>
            <h5>Driver:</h5>
            <p><%= trip.user.first_name %> <%= trip.user.last_name %></p>
            <% if policy(trip).show? %>
            <%= link_to 'More Info', trip, class: "btn btn-primary"%>
            <% end %>
            <% if policy(trip).edit? %>
              <%= link_to 'Edit', edit_trip_path(trip), class: "btn btn-secondary"%>
            <% end %>
            <% if policy(trip).destroy? %>
              <%= link_to 'Destroy', trip, method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-secondary" %>
            <% end %>
            <% if !policy(trip).edit? %>
              <%= link_to 'Book', new_trip_booking_path(trip), class: "btn btn-secondary"%>
            <% end %>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
</div>
